<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Check - Service Control v1.0.10+20190622</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Check";
    var mkdocs_page_input_path = "services_check.md";
    var mkdocs_page_url = "/services_check/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Service Control v1.0.10+20190622</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Services</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../services_allocate-quota/">Allocate Quota</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Check</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#scopes">Scopes</a></li>
    

    <li class="toctree-l3"><a href="#required-scalar-argument">Required Scalar Argument</a></li>
    

    <li class="toctree-l3"><a href="#required-request-value">Required Request Value</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#about-cursors">About Cursors</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#optional-output-flags">Optional Output Flags</a></li>
    

    <li class="toctree-l3"><a href="#optional-general-properties">Optional General Properties</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../services_report/">Report</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Service Control v1.0.10+20190622</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Services &raquo;</li>
        
      
    
    <li>Check</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/Byron/google-apis-rs/tree/master/gen/servicecontrol1-cli/edit/master/docs/services_check.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>Checks whether an operation on a service should be allowed to proceed
based on the configuration of the service and related policies. It must be
called before the operation is executed.</p>
<p>If feasible, the client should cache the check results and reuse them for
60 seconds. In case of any server errors, the client should rely on the
cached results for much longer time to avoid outage.
WARNING: There is general 60s delay for the configuration and policy
propagation, therefore callers MUST NOT depend on the <code>Check</code> method having
the latest policy information.</p>
<p>NOTE: the CheckRequest has the size limit of 64KB.</p>
<p>This method requires the <code>servicemanagement.services.check</code> permission
on the specified service. For more information, see
<a href="https://cloud.google.com/iam">Cloud IAM</a>.</p>
<h1 id="scopes">Scopes</h1>
<p>You will need authorization for at least one of the following scopes to make a valid call:</p>
<ul>
<li><em>https://www.googleapis.com/auth/cloud-platform</em></li>
<li><em>https://www.googleapis.com/auth/servicecontrol</em></li>
</ul>
<p>If unset, the scope for this method defaults to <em>https://www.googleapis.com/auth/cloud-platform</em>.
You can set the scope for this method like this: <code>servicecontrol1 --scope &lt;scope&gt; services check ...</code></p>
<h1 id="required-scalar-argument">Required Scalar Argument</h1>
<ul>
<li><strong>&lt;service-name&gt;</strong> <em>(string)</em><ul>
<li>
<p>The service name as specified in its service configuration. For example,
    <code>&amp;#34;pubsub.googleapis.com&amp;#34;</code>.</p>
<p>See
<a href="https://cloud.google.com/service-management/reference/rpc/google.api#google.api.Service">google.api.Service</a>
for the definition of a service name.</p>
<h1 id="required-request-value">Required Request Value</h1>
</li>
</ul>
</li>
</ul>
<p>The request value is a data-structure with various fields. Each field may be a simple scalar or another data-structure.
In the latter case it is advised to set the field-cursor to the data-structure's field to specify values more concisely.</p>
<p>For example, a structure like this:</p>
<pre><code>CheckRequest:
  operation:
    consumer-id: string
    end-time: string
    importance: string
    labels: { string: string }
    operation-id: string
    operation-name: string
    quota-properties:
      quota-mode: string
    resource-container: string
    start-time: string
    user-labels: { string: string }
  request-project-settings: boolean
  service-config-id: string
  skip-activation-check: boolean

</code></pre>

<p>can be set completely with the following arguments which are assumed to be executed in the given order. Note how the cursor position is adjusted to the respective structures, allowing simple field names to be used most of the time.</p>
<ul>
<li>
<p><code>-r .operation    consumer-id=kasd</code></p>
<ul>
<li>
<p>Identity of the consumer who is using the service.
    This field should be filled in for the operations initiated by a
    consumer, but not for service-initiated operations that are
    not related to a specific consumer.</p>
<ul>
<li>This can be in one of the following formats:<ul>
<li>project:PROJECT_ID,</li>
<li>project<code>_</code>number:PROJECT_NUMBER,</li>
<li>projects/PROJECT_ID or PROJECT_NUMBER,</li>
<li>folders/FOLDER_NUMBER,</li>
<li>organizations/ORGANIZATION_NUMBER,</li>
<li>api<code>_</code>key:API_KEY.</li>
</ul>
</li>
<li><code>end-time=accusam</code><ul>
<li>End time of the operation.
Required when the operation is used in ServiceController.Report,
but optional when the operation is used in ServiceController.Check.</li>
</ul>
</li>
<li><code>importance=takimata</code><ul>
<li>DO NOT USE. This is an experimental field.</li>
</ul>
</li>
<li>
<p><code>labels=key=justo</code></p>
<ul>
<li>Labels describing the operation. Only the following labels are allowed:</li>
</ul>
</li>
<li>
<p>Labels describing monitored resources as defined in
  the service configuration.</p>
</li>
<li>Default labels of metric values. When specified, labels defined in the
  metric value override these default.</li>
<li>The following labels defined by Google Cloud Platform:<ul>
<li><code>cloud.googleapis.com/location</code> describing the location where the
   operation happened,</li>
<li><code>servicecontrol.googleapis.com/user_agent</code> describing the user agent
   of the API request,</li>
<li><code>servicecontrol.googleapis.com/service_agent</code> describing the service
   used to handle the API request (e.g. ESP),</li>
<li><code>servicecontrol.googleapis.com/platform</code> describing the platform
   where the API is served, such as App Engine, Compute Engine, or
   Kubernetes Engine.</li>
<li>the value will be associated with the given <code>key</code></li>
</ul>
</li>
<li><code>operation-id=amet.</code><ul>
<li>Identity of the operation. This must be unique within the scope of the
service that generated the operation. If the service calls
Check() and Report() on the same operation, the two calls should carry
the same id.</li>
</ul>
</li>
</ul>
<p>UUID version 4 is recommended, though not required.
In scenarios where an operation is computed from existing information
and an idempotent id is desirable for deduplication purpose, UUID version 5
is recommended. See RFC 4122 for details.
* <code>operation-name=erat</code>
    - Fully qualified name of the operation. Reserved for future use.
* <code>quota-properties    quota-mode=labore</code>
    - Quota mode for this operation.</p>
</li>
</ul>
</li>
<li>
<p><code>..    resource-container=sea</code></p>
<ul>
<li>
<p>DO NOT USE. This field is deprecated, use &#34;resources&#34; field instead.
    The resource name of the parent of a resource in the resource hierarchy.</p>
<p>This can be in one of the following formats:
    - “projects/&lt;project-id or project-number&gt;”
    - “folders/&lt;folder-id&gt;”
    - “organizations/&lt;organization-id&gt;”
* <code>start-time=nonumy</code>
    - Required. Start time of the operation.
* <code>user-labels=key=dolores</code>
    - User defined labels for the resource that this operation is associated
with. Only a combination of 1000 user labels per consumer project are
allowed.
    - the value will be associated with the given <code>key</code></p>
</li>
</ul>
</li>
<li>
<p><code>..    request-project-settings=false</code></p>
<ul>
<li>Requests the project settings to be returned as part of the check response.</li>
</ul>
</li>
<li><code>service-config-id=sadipscing</code><ul>
<li>
<p>Specifies which version of service configuration should be used to process
    the request.</p>
<p>If unspecified or no matching version can be found, the
latest one will be used.
* <code>skip-activation-check=true</code>
    - Indicates if service activation check should be skipped for this request.
Default behavior is to perform the check and apply relevant quota.
WARNING: Setting this flag to &#34;true&#34; will disable quota enforcement.</p>
</li>
</ul>
</li>
</ul>
<h3 id="about-cursors">About Cursors</h3>
<p>The cursor position is key to comfortably set complex nested structures. The following rules apply:</p>
<ul>
<li>The cursor position is always set relative to the current one, unless the field name starts with the <code>.</code> character. Fields can be nested such as in <code>-r f.s.o</code> .</li>
<li>The cursor position is set relative to the top-level structure if it starts with <code>.</code>, e.g. <code>-r .s.s</code></li>
<li>You can also set nested fields without setting the cursor explicitly. For example, to set a value relative to the current cursor position, you would specify <code>-r struct.sub_struct=bar</code>.</li>
<li>You can move the cursor one level up by using <code>..</code>. Each additional <code>.</code> moves it up one additional level. E.g. <code>...</code> would go three levels up.</li>
</ul>
<h1 id="optional-output-flags">Optional Output Flags</h1>
<p>The method's return value a JSON encoded structure, which will be written to standard output by default.</p>
<ul>
<li><strong>-o out</strong><ul>
<li><em>out</em> specifies the <em>destination</em> to which to write the server's result to.
  It will be a JSON-encoded structure.
  The <em>destination</em> may be <code>-</code> to indicate standard output, or a filepath that is to contain the received bytes.
  If unset, it defaults to standard output.</li>
</ul>
</li>
</ul>
<h1 id="optional-general-properties">Optional General Properties</h1>
<p>The following properties can configure any call, and are not specific to this method.</p>
<ul>
<li>
<p><strong>-p $-xgafv=string</strong></p>
<ul>
<li>V1 error format.</li>
</ul>
</li>
<li>
<p><strong>-p access-token=string</strong></p>
<ul>
<li>OAuth access token.</li>
</ul>
</li>
<li>
<p><strong>-p alt=string</strong></p>
<ul>
<li>Data format for response.</li>
</ul>
</li>
<li>
<p><strong>-p callback=string</strong></p>
<ul>
<li>JSONP</li>
</ul>
</li>
<li>
<p><strong>-p fields=string</strong></p>
<ul>
<li>Selector specifying which fields to include in a partial response.</li>
</ul>
</li>
<li>
<p><strong>-p key=string</strong></p>
<ul>
<li>API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token.</li>
</ul>
</li>
<li>
<p><strong>-p oauth-token=string</strong></p>
<ul>
<li>OAuth 2.0 token for the current user.</li>
</ul>
</li>
<li>
<p><strong>-p pretty-print=boolean</strong></p>
<ul>
<li>Returns response with indentations and line breaks.</li>
</ul>
</li>
<li>
<p><strong>-p quota-user=string</strong></p>
<ul>
<li>Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters.</li>
</ul>
</li>
<li>
<p><strong>-p upload-type=string</strong></p>
<ul>
<li>Legacy upload protocol for media (e.g. &#34;media&#34;, &#34;multipart&#34;).</li>
</ul>
</li>
<li>
<p><strong>-p upload-protocol=string</strong></p>
<ul>
<li>Upload protocol for media (e.g. &#34;raw&#34;, &#34;multipart&#34;).</li>
</ul>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../services_report/" class="btn btn-neutral float-right" title="Report">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../services_allocate-quota/" class="btn btn-neutral" title="Allocate Quota"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2015-2019, `Sebastian Thiel`</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/Byron/google-apis-rs/tree/master/gen/servicecontrol1-cli" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../services_allocate-quota/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../services_report/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
